{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["`use strict`\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport axios from \"axios\";\n\nconst imagesForSearch = document.querySelector(\".imagesInput\")\nconst btn = document.querySelector(\".searchImages\");\nconst photoList = document.querySelector(\".listOfPhotos\")\nconst loader = document.querySelector(\".loader\")\n\nlet page = 1;\nlet perPage = 15;\nlet fetchedPhotos = [];\n\nloaderHide();\n\n//Added backend \n\nfunction fetchPhoto() {\n\n    return   axios.get(`https://pixabay.com/api/`, {\n        params: {\n        key: \"42327867-17db48a54b533eea41b085f18\",\n        q:  imagesForSearch.value,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n        per_page: perPage,\n        page: page,\n    }\n    })\n        .then((response) => {\n            fetchedPhotos = fetchedPhotos.concat(response.data.hits)\n            console.log(fetchedPhotos)\n            return response.data;\n        });\n    \n}\n\n\n\n\n\n//Added elements to page\n\nfunction addElements(fetchedPhotos) {\n\n\n    const html = fetchedPhotos\n        .map((photo) => {\n            return `\n            <li class =\"listElement\">\n            <a\n            class =\"largePhotoLink\"\n            href=\"${photo.largeImageURL}\">\n            <img\n            class =\"photo\"\n            src=\"${photo.previewURL}\">\n            </a>\n            <p>Likes: ${photo.likes}</p>\n            <p>Views: ${photo.views}</p>\n            <p>Comments: ${photo.comments}</p>\n            <p>Downloads: ${photo.downloads}</p>\n            </li>\n            `;\n        })\n        .join(\"\");\n    \n    photoList.insertAdjacentHTML(\"beforeend\", html);\n\n\n    const gallery = new SimpleLightbox('.listElement a', {\n        docClose: false,\n    });\n\n}\n\nfunction loaderShow() {\n    \n    loader.style.display = \"block\";\n\n}\n\nfunction loaderHide() {\n    loader.style.display = \"none\";\n}\n\n\n\n//Added button usage\n\nbtn.addEventListener(\"click\", () => {\n    photoList.innerHTML = \"\";\n    if (imagesForSearch.value.length !== 0) {\n        loaderShow();\n        setTimeout(() => {\n            \n            fetchPhoto()\n                .then((photos) => {\n                    if (photos.hits.length === 0) {\n                        iziToast.error({\n                            message: \"Sorry, there are no images matching your search query. Please try again!\",\n                            position: \"topRight\",\n                        })\n                    } else {\n                        addElements(fetchedPhotos)\n                    }\n                })\n            \n                .catch((error) => {\n                    iziToast.error({\n                        position: \"topRight\"\n                    })\n                })\n            \n                .finally(() => {\n                    loaderHide();\n                    page += 1;\n                    btn.textContent = \"Load more photos\";\n                })\n            \n            \n        }, 1500);\n    } else {\n        iziToast.error({\n            message: \"Field is empty. Please type something!\",\n            position: \"topRight\"\n        })\n    }\n});"],"names":["imagesForSearch","btn","photoList","loader","page","perPage","fetchedPhotos","loaderHide","fetchPhoto","axios","response","addElements","html","photo","SimpleLightbox","loaderShow","photos","iziToast","error"],"mappings":"owBAOA,MAAMA,EAAkB,SAAS,cAAc,cAAc,EACvDC,EAAM,SAAS,cAAc,eAAe,EAC5CC,EAAY,SAAS,cAAc,eAAe,EAClDC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAO,EACPC,EAAU,GACVC,EAAgB,CAAA,EAEpBC,IAIA,SAASC,GAAa,CAElB,OAASC,EAAM,IAAI,2BAA4B,CAC3C,OAAQ,CACR,IAAK,qCACL,EAAIT,EAAgB,MACpB,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAUK,EACV,KAAMD,CACT,CACL,CAAK,EACI,KAAMM,IACHJ,EAAgBA,EAAc,OAAOI,EAAS,KAAK,IAAI,EACvD,QAAQ,IAAIJ,CAAa,EAClBI,EAAS,KACnB,CAET,CAQA,SAASC,EAAYL,EAAe,CAGhC,MAAMM,EAAON,EACR,IAAKO,GACK;AAAA;AAAA;AAAA;AAAA,oBAICA,EAAM,aAAa;AAAA;AAAA;AAAA,mBAGpBA,EAAM,UAAU;AAAA;AAAA,wBAEXA,EAAM,KAAK;AAAA,wBACXA,EAAM,KAAK;AAAA,2BACRA,EAAM,QAAQ;AAAA,4BACbA,EAAM,SAAS;AAAA;AAAA,aAGlC,EACA,KAAK,EAAE,EAEZX,EAAU,mBAAmB,YAAaU,CAAI,EAG9B,IAAIE,EAAe,iBAAkB,CACjD,SAAU,EAClB,CAAK,CAEL,CAEA,SAASC,GAAa,CAElBZ,EAAO,MAAM,QAAU,OAE3B,CAEA,SAASI,GAAa,CAClBJ,EAAO,MAAM,QAAU,MAC3B,CAMAF,EAAI,iBAAiB,QAAS,IAAM,CAChCC,EAAU,UAAY,GAClBF,EAAgB,MAAM,SAAW,GACjCe,IACA,WAAW,IAAM,CAEbP,EAAY,EACP,KAAMQ,GAAW,CACVA,EAAO,KAAK,SAAW,EACvBC,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UACtC,CAAyB,EAEDN,EAAYL,CAAa,CAEjD,CAAiB,EAEA,MAAOY,GAAU,CACdD,EAAS,MAAM,CACX,SAAU,UAClC,CAAqB,CACrB,CAAiB,EAEA,QAAQ,IAAM,CACXV,IACAH,GAAQ,EACRH,EAAI,YAAc,kBACtC,CAAiB,CAGR,EAAE,IAAI,GAEPgB,EAAS,MAAM,CACX,QAAS,yCACT,SAAU,UACtB,CAAS,CAET,CAAC"}